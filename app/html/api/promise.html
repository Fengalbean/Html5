<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>移动模板页面</title>
    <!-- SEO内容 -->
    <meta name="description" content="不超过150个字符">
    <meta name="keywords" content="">
    <meta name="author" content="name, email@gmail.com">

    <!-- 为移动设备添加 viewport -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- 关闭电话号码识别： -->
    <meta content="telephone=no" name="format-detection">
    <!-- 邮箱识别： -->
    <meta content="email=no" name="format-detection">
    <!-- 指定 iOS 的 safari 顶端状态条的样式 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- 禁止百度转码 -->
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <!--添加到主屏后的标题（IOS）-->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <!--启用 WebApp 全屏模式（IOS）-->
    <meta name="apple-touch-fullscreen" content="yes"/>
    <title>Title</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        .parent {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            width: 100%;
            height: 70px;
            border: 1px solid;
        }
        .left {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-basis: 19.2%;
            flex-grow: 0;
            height: 70px;
            padding-left: 4%;
            padding-right: 3.32%;
            overflow: hidden;
            background-color: rebeccapurple;
        }
        .right {
            display: flex;
            flex-grow: 1;
            height: 70px;
            background-color: greenyellow;
        }
        /*.img-container {*/
            /*height: 0;*/
            /*padding-bottom: 11.88%;*/
            /*!*margin-top: -85%;*!*/
        /*}*/
        .parent1 {
            width: 100%;
            height: 70px;
        }
        .left1 {
            float: left;
            width: 19.2%;
            height: 70px;
            background-color: #3e8f3e;
            padding-left: 4%;
            padding-right: 3.32%;
            overflow: hidden;
        }
        .right1 {
            float: left;
            width: 80.8%;
            height: 70px;
            background-color: peachpuff;
        }
    </style>
</head>
<body>

<div class="parent">
    <div class="left">
        <img src="../imgs/hujiang.png" alt="" width="100%">
        <!--<div class="img-container"></div>-->
    </div>
    <div class="right"></div>
</div>

<div class="parent1">
    <div class="left1">
        <img src="../imgs/hujiang.png" alt="" width="100%">
        <!--<div class="img-container"><img src="../imgs/hujiang.png" alt="" width="100%"></div>-->
    </div>
    <div class="right1"></div>
</div>




<script>

    function CustomPromise(fn) {
        this.state = 'pending'; // pending（进行中）、fulfilled（已成功）和rejected（已失败）
        this.result = null;//存储异步结果的对象变量

        // 正确捕获数据，更改状态
        this.resolve = function (data) {
            if (this.state === 'pending') {
                this.state = 'fulfilled';
                this.result = data;
            }
        };
        // 错误
        this.reject = function (err) {
            if (this.state === 'pending') {
                this.state = 'rejected';
                this.result = err;
            }
        };


        fn && fn(this.resolve, this.reject);
    }

    CustomPromise.prototype.then = function () {
        return new CustomPromise(function (resolve, reject) {

        })
    }
    var type = function(o) {
        var s = Object.prototype.toString.call(o);
        return s.match(/\[object (.*?)\]/)[1].toLowerCase();
    };
    let copy = function(target){
        // debugger
        if (type(target) !== 'object' && type(target) !== 'array') {
            return new Error('target is not Object!');
        }
        let origin = {};
        for(let key in target) {
            if (target.hasOwnProperty(key)) {
                let valType = type(target[key]);
                // 如果是数组或者对象就递归拷贝
                if ( valType === 'object' || valType === 'array') {
                    origin[key] = copy(target[key]);
                } else {
                    origin[key] = target[key];
                }
            }
        }
        return origin;
    }
    var a = {
        a: {a:"a"}
    }
    var b = copy(a);
    console.log(b);

    b.a.a = 'b';
    console.log(b);
    console.log(a);
</script>
</body>
</html>