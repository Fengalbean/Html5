<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-touch-fullscreen" content="yes"/>
    <title>web语义化</title>
</head>
<body>

<!--例子1-->
<article>
    <h1>电子产品</h1>
    <p>手机是人们生活中常用的电子产品。</p>
    <section>
        <h2>手机</h2>
        <p>手机是人们生活中常用的电子产品。</p>
    </section>
</article>

<!--例子2-->
<article>
    <header><h1>电子产品</h1></header>
    <section>
        <h2>手机</h2>
        <p>手机是人们生活中常用的电子产品。</p>
    </section>
    <footer>
        <p><strong>步步高教育电子有限公司</strong> | <strong>小天才电话手表</strong></p>
    </footer>
</article>

<!--例子三-->
<article>
    <header><h1>电子产品</h1></header>
    <section>
        <h2>手机</h2>
        <p>手机是人们生活中常用的电子产品。</p>
        <article>
            <h3>苹果手机</h3>
            <p>苹果手机是美国品牌，由创始人乔布斯创建。</p>
            <h3>小米手机</h3>
            <p>小米手机由雷军创建，为发烧而生！</p>
        </article>
    </section>
    <footer>
        <p><strong>步步高教育电子有限公司</strong> | <strong>小天才电话手表</strong></p>
    </footer>
</article>
<script>
    var person = {}; // 创建一个新对象

    Object.defineProperty(person, "name", {
        get: function () {
            console.log('触发get');
        },
        set: function (newValue) {
            console.log('触发set');
            console.log('变化后的新值：' + newValue);
        },
        enumerable: true,
        configurable: true
    });

    person.name = '张三';
    console.log(person.name);

    // 观察者列表
    var ObserveList = function () {
        this.list = [];
    };
    /**
     * 返回长度
     * @returns {number}
     */
    ObserveList.prototype.count = function () {
        return this.list.length;
    };
    /**
     * 添加
     * @param obj
     * @returns {number}
     */
    ObserveList.prototype.add = function (obj) {
        return this.list.push(obj);
    };
    /**
     * 查找
     * @param object
     * @returns {number}
     */
    ObserveList.prototype.indexOf = function (object) {
        var index = -1;
        for (var i = 0; i < this.list.length; i++) {
            if (this.list[i].id === object.id) {
                index = i;
                return index;
            }
        }
        return index;
    };
    /**
     * 移除
     * @param obj
     */
    ObserveList.prototype.remove = function (obj) {
        var index = this.indexOf(obj);
        if (index !== -1) {
            this.list.splice(index, 1)
        }

    };
    /**
     * 获取
     * @param obj
     * @returns {*}
     */
    ObserveList.prototype.get = function (obj) {
        var index = this.indexOf(obj);
        if (index !== -1) {
            return this.list[index];
        }
    };

    /**
     * 目标观察者
     */
    function Subject() {
        this.observers = new ObserveList();
    }

    Subject.prototype.addObserver = function (observer) {
        this.observers.add(observer)
    };

    Subject.prototype.removeObserver = function (observer) {
        this.observers.remove(observer)
    };

    Subject.prototype.notify = function (context) {
        var l = this.observers.count();
        for (var i = 0; i < l; i++) {
            this.observers.list[i].update(context);
        }
    };

    /**
     * 具体的观察者动作
     * @constructor
     */
    function Observer() {
        this.update = function (a) {
            console.log(a + ',更新了');
            document.getElementById('text').innerHTML += a + ',更新了';
        };

    }

    var watcher = new Subject();
    var a = new Observer('aaaa');
    var b = new Observer('bbbb');

    watcher.addObserver(a);
    watcher.addObserver(b);


</script>
</body>
</html>
